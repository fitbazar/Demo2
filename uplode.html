<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Product</title>
    <style>
        body {
            text-align: center;
        }

        input[type="text"],
        input[type="number"],
        input[type="url"],
        textarea {
            width: 80%;
            padding: 12px 20px;
            margin: 8px 0;
            box-sizing: border-box;
            border: 2px solid #ccc;
            border-radius: 10px;
            outline: none;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="url"]:focus,
        textarea:focus {
            border-color: #4CAF50;
        }

        button[type="submit"],
        button {
            background-color: #4CAF50; /* Green */
            border: none;
            color: white;
            padding: 12px 24px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 8px 4px;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        }

        button[type="submit"]:hover,
        button:hover {
            background-color: #45a049;
        }

        button[type="submit"] {
            margin-top: 20px;
        }

        /* Styling for product card */
        .product-card {
            border-bottom: 2px solid orange;
            margin-bottom: 20px;
            padding-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Upload Product</h1>
    <form id="uploadForm">
        <label for="productName">Product Name:</label>
        <input type="text" id="productName" name="productName" required><br><br>
        
        <label for="productPrice">Product Price:</label>
        <input type="number" id="productPrice" name="productPrice" required><br><br>
        
        <label for="productImageURL">Product Image URL:</label>
        <input type="url" id="productImageURL" name="productImageURL" required><br><br>

        <label for="productDescription">Product Description:</label>
        <textarea id="productDescription" name="productDescription" required></textarea><br><br>
        
        <button type="submit">Upload Product</button>
    </form>

    <h2>Uploaded Products</h2>
    <div id="uploadedProducts"></div>

    <script>
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            event.preventDefault();

            // Get form values
            const productName = document.getElementById('productName').value;
            const productPrice = document.getElementById('productPrice').value;
            const productImageURL = document.getElementById('productImageURL').value;
            const productDescription = document.getElementById('productDescription').value;

            // Create product object
            const product = {
                name: productName,
                price: productPrice,
                imageURL: productImageURL,
                description: productDescription
            };

            // Save product to localStorage or send to server
            // For simplicity, we'll just use localStorage here
            const uploadedProducts = JSON.parse(localStorage.getItem('uploadedProducts')) || [];
            uploadedProducts.push(product);
            localStorage.setItem('uploadedProducts', JSON.stringify(uploadedProducts));

            displayUploadedProducts();

            alert('Product uploaded successfully!');
        });

        // Function to display uploaded products
        function displayUploadedProducts() {
            const uploadedProducts = JSON.parse(localStorage.getItem('uploadedProducts')) || [];
            const uploadedProductsDiv = document.getElementById('uploadedProducts');
            uploadedProductsDiv.innerHTML = '';

            uploadedProducts.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.classList.add('product-card');
                productCard.innerHTML = `
                    <h3>${product.name}</h3>
                    <p>Price: à§³${product.price}</p>
                    <img src="${product.imageURL}" alt="${product.name}" width="200">
                    <p>${product.description}</p>
                    <button onclick="editProduct(${index})">Edit</button>
                    <button onclick="deleteProduct(${index})">Delete</button>
                `;
                uploadedProductsDiv.appendChild(productCard);
            });

            // Update index page
            localStorage.setItem('uploadedProducts', JSON.stringify(uploadedProducts));
        }

        // Initial display of uploaded products
        displayUploadedProducts();

        // Function to edit a product
        function editProduct(index) {
            const uploadedProducts = JSON.parse(localStorage.getItem('uploadedProducts')) || [];
            const product = uploadedProducts[index];
            const newName = prompt('Enter new name:', product.name);
            const newPrice = prompt('Enter new price:', product.price);
            const newImageURL = prompt('Enter new image URL:', product.imageURL);
            const newDescription = prompt('Enter new description:', product.description);

            if (newName && newPrice && newImageURL && newDescription) {
                // Check if the edited product exists in the cart and remove it
                const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
                const isItemInCart = cartItems.findIndex(item => item.name === product.name);
                if (isItemInCart !== -1) {
                    cartItems.splice(isItemInCart, 1);
                    localStorage.setItem('cart', JSON.stringify(cartItems));
                }

                // Update the edited product
                uploadedProducts[index] = {
                    name: newName,
                    price: newPrice,
                    imageURL: newImageURL,
                    description: newDescription
                };
                localStorage.setItem('uploadedProducts', JSON.stringify(uploadedProducts));
                displayUploadedProducts();
            }
        }

        // Function to delete a product
        function deleteProduct(index) {
            const confirmDelete = confirm('Are you sure you want to delete this product?');
            if (confirmDelete) {
                const uploadedProducts = JSON.parse(localStorage.getItem('uploadedProducts')) || [];
                uploadedProducts.splice(index, 1);
                localStorage.setItem('uploadedProducts', JSON.stringify(uploadedProducts));
                displayUploadedProducts();
            }
        }
    </script>
</body>
</html>
